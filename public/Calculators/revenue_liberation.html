<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Revenue Liberation Engine | Crude Capital</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sora:wght@600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Color Palette */
            --color-dark: #111827;
            --color-light: #F9FAFB;
            --color-slate-600: #475569;
            --color-slate-400: #94A3B8;
            --color-slate-200: #E2E8F0;
            --color-accent: #14B8A6; /* Teal */
            --color-accent-dark: #0F766E;
            --color-contrast: #F59E0B; /* Amber */
            --color-contrast-dark: #B45309;

            /* Typography */
            --font-heading: 'Sora', sans-serif;
            --font-body: 'Inter', sans-serif;

            /* Effects */
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --shadow-interactive: 0 0 0 3px color-mix(in srgb, var(--color-accent) 20%, transparent);
            --transition-fast: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* --- Base & Reset --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            font-family: var(--font-body); background-color: var(--color-light); color: var(--color-slate-600);
            padding: 2rem 1rem; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
        }

        /* --- Main Container & Layout --- */
        .container {
            max-width: 1200px; margin: 0 auto; background: white; border-radius: 24px;
            box-shadow: var(--shadow-lg); overflow: hidden; border: 1px solid var(--color-slate-200);
        }
        .main-grid { display: grid; grid-template-columns: 1fr 1.1fr; }

        /* --- Header / Hero Section --- */
        .hero { padding: 4rem; text-align: center; background: var(--color-dark); }
        .hero h1 {
            font-family: var(--font-heading); color: white; font-size: clamp(2.5rem, 5vw, 3.5rem);
            line-height: 1.1; margin-bottom: 1rem;
        }
        .hero h1 .highlight { color: var(--color-accent); }
        .hero p {
            font-size: clamp(1rem, 2vw, 1.1rem); max-width: 650px; margin: 0 auto;
            color: var(--color-slate-400); line-height: 1.6;
        }

        /* --- Input Panel --- */
        .input-panel { padding: 3rem; background-color: var(--color-light); border-right: 1px solid var(--color-slate-200); }
        .input-panel h2 {
            font-family: var(--font-heading); color: var(--color-dark); font-size: 1.75rem;
            margin-bottom: 2.5rem; display: flex; align-items: center; gap: 0.75rem;
        }
        .form-group { position: relative; margin-bottom: 2.5rem; }
        .form-group .input-icon {
            position: absolute; top: 50%; transform: translateY(-50%); left: 16px;
            color: var(--color-slate-400); pointer-events: none; transition: var(--transition-fast);
        }
        .form-group select {
            width: 100%; padding: 1rem 1rem 1rem 3.25rem; border: 1px solid var(--color-slate-200);
            border-radius: 12px; font-size: 1rem; font-family: var(--font-body); color: var(--color-dark);
            background-color: white; transition: var(--transition-fast); -webkit-appearance: none;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2364748b' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 0.7rem center; background-repeat: no-repeat; background-size: 1.5em 1.5em;
        }
        .form-group select:focus { outline: none; border-color: var(--color-accent); box-shadow: var(--shadow-interactive); }
        .form-group select:focus ~ .input-icon { color: var(--color-accent); }

        /* --- Custom Range Slider --- */
        .slider-group { margin-bottom: 2.5rem; }
        .slider-label-container { display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 1rem; }
        .slider-label { font-size: 1rem; font-weight: 500; color: var(--color-dark); }
        .slider-value { font-family: var(--font-heading); font-size: 1.75rem; font-weight: 600; color: var(--color-accent); }
        input[type="range"] {
            -webkit-appearance: none; width: 100%; height: 8px; background: var(--color-slate-200);
            border-radius: 5px; outline: none; padding: 0; margin: 0;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none; appearance: none; width: 24px; height: 24px; background: white;
            border-radius: 50%; border: 5px solid var(--color-accent); cursor: pointer;
            transition: transform 0.2s ease; margin-top: -8px;
        }
        input[type="range"]::-webkit-slider-thumb:hover { transform: scale(1.1); }
        input[type="range"]::-moz-range-track { width: 100%; height: 8px; background: var(--color-slate-200); border-radius: 5px; border: none; }
        input[type="range"]::-moz-range-thumb { width: 24px; height: 24px; background: white; border-radius: 50%; border: 5px solid var(--color-accent); cursor: pointer; }

        /* --- Results Panel --- */
        .results-panel { padding: 3rem; background-color: white; }
        .results-panel .animate-on-scroll { opacity: 0; transform: translateY(20px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
        .results-panel .animate-on-scroll.is-visible { opacity: 1; transform: translateY(0); }
        .results-panel h2 { font-family: var(--font-heading); color: var(--color-dark); font-size: 1.75rem; text-align: center; margin-bottom: 2rem; }

        /* Before & After Visual */
        .transformation-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 2.5rem; }
        .status-card { border-radius: 16px; padding: 1.5rem; text-align: center; }
        .status-card.before { background-color: color-mix(in srgb, var(--color-contrast) 10%, white); border: 1px solid color-mix(in srgb, var(--color-contrast) 40%, transparent); }
        .status-card.after { background-color: color-mix(in srgb, var(--color-accent) 10%, white); border: 1px solid color-mix(in srgb, var(--color-accent) 40%, transparent); }
        .status-card h3 { font-size: 1rem; font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 0.5rem; margin-bottom: 1rem; }
        .status-card.before h3 { color: var(--color-contrast-dark); }
        .status-card.after h3 { color: var(--color-accent-dark); }
        .revenue-amount { font-family: var(--font-heading); font-size: clamp(2rem, 5vw, 2.75rem); font-weight: 700; line-height: 1; margin-bottom: 0.75rem; }
        .trapped-amount { color: var(--color-contrast); }
        .liberated-amount { color: var(--color-accent); }
        .status-card p { font-size: 0.875rem; line-height: 1.5; color: var(--color-slate-600); }

        /* Cash Flow Chart */
        .cashflow-chart-container { margin-bottom: 2.5rem; }
        .cashflow-chart-container h3 { font-family: var(--font-body); font-weight: 600; text-align: center; margin-bottom: 1.5rem; font-size: 1.1rem; color: var(--color-dark); }
        .chart-bar-group { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; height: 120px; }
        .chart-bar { display: flex; flex-direction: column; justify-content: flex-end; align-items: center; gap: 0.75rem; }
        .bar { width: 100%; border-radius: 8px 8px 0 0; transition: height 0.8s cubic-bezier(0.25, 1, 0.5, 1); }
        .bar.trapped { background-color: var(--color-contrast); }
        .bar.liberated { background-color: var(--color-accent); }
        .bar-label { font-size: 0.8rem; font-weight: 500; color: var(--color-slate-600); text-align: center; }

        /* Impact Section */
        .impact-section { background-color: var(--color-dark); color: white; padding: 2rem; border-radius: 16px; text-align: center; margin-bottom: 2.5rem; }
        .impact-section h3 { font-family: var(--font-heading); font-size: 1.25rem; color: var(--color-slate-200); margin-bottom: 0.5rem; }
        .impact-number { font-family: var(--font-heading); font-size: clamp(3rem, 8vw, 4.5rem); font-weight: 700; color: var(--color-accent); line-height: 1.1; margin-bottom: 0.5rem; }
        .impact-section p { color: var(--color-slate-400); font-size: 0.9rem; }

        /* CTA Section */
        .cta-section { background: linear-gradient(135deg, var(--color-accent), var(--color-accent-dark)); padding: 2.5rem; border-radius: 16px; text-align: center; }
        .cta-section h3 { font-family: var(--font-heading); font-size: 1.75rem; color: white; margin-bottom: 0.75rem; }
        .cta-section p { color: color-mix(in srgb, white 80%, transparent); margin-bottom: 1.5rem; }
        .cta-button {
            background: white; color: var(--color-accent-dark); padding: 1rem 2.5rem; border: none; border-radius: 12px;
            font-size: 1.1rem; font-weight: 700; font-family: var(--font-body); cursor: pointer;
            transition: var(--transition-fast); box-shadow: var(--shadow-sm); display: inline-flex;
            align-items: center; gap: 0.75rem; text-decoration: none;
        }
        .cta-button:hover { transform: translateY(-3px); box-shadow: var(--shadow-lg); color: var(--color-dark); }
        .cta-button .arrow { transition: transform 0.2s ease-out; }
        .cta-button:hover .arrow { transform: translateX(4px); }

        /* --- SITE FOOTER --- */
        .site-footer {
            padding: 2rem; text-align: center; font-size: 0.875rem;
            color: var(--color-slate-400); background-color: var(--color-light);
            border-top: 1px solid var(--color-slate-200);
        }

        /* --- Responsive Design --- */
        @media (max-width: 992px) {
            .main-grid { grid-template-columns: 1fr; }
            .input-panel { border-right: none; border-bottom: 1px solid var(--color-slate-200); }
        }
        @media (max-width: 768px) {
            body { padding: 1rem 0.5rem; }
            .hero, .input-panel, .results-panel, .cta-section { padding: 2rem 1.5rem; }
            .transformation-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <div class="container">
        <header class="hero">
            <h1>Stop Waiting for Your Weekend. <br><span class="highlight">Start Using It.</span></h1>
            <p>Your business thrives on weekend sales, but your cash flow doesn't. See how much working capital you're leaving trapped until midweek, and discover how to unlock it for Monday morning.</p>
        </header>

        <main class="main-grid">
            <div class="input-panel">
                <h2>
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
                    Revenue Profile
                </h2>
                
                <div class="slider-group">
                    <div class="slider-label-container">
                        <label for="weekend-revenue-slider" class="slider-label">Weekend Revenue (Fri-Sun)</label>
                        <div id="slider-value-display" class="slider-value">£12,500</div>
                    </div>
                    <input type="range" id="weekend-revenue-slider" min="500" max="50000" step="500" value="12500">
                </div>

                <div class="form-group">
                    <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg>
                    <select id="business-type" required>
                        <option value="" disabled selected>Select your industry</option>
                        <option value="Restaurant">Restaurant</option>
                        <option value="Pub/Bar">Pub/Bar</option>
                        <option value="Retail Store">Retail Store</option>
                        <option value="Cafe/Coffee Shop">Cafe/Coffee Shop</option>
                        <option value="Hotel">Hotel</option>
                        <option value="Leisure/Entertainment">Leisure/Entertainment</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><path d="M17 2H7a2 2 0 0 0-2 2v3h14V4a2 2 0 0 0-2-2z"></path></svg>
                    <select id="current-provider" required>
                        <option value="" disabled selected>Select your current provider</option>
                        <option value="WorldPay / Tyl">WorldPay / Tyl</option>
                        <option value="Barclaycard">Barclaycard</option>
                        <option value="Zettle">Zettle</option>
                        <option value="Square">Square</option>
                        <option value="SumUp">SumUp</option>
                        <option value="Elavon">Elavon</option>
                        <option value="Other Bank">Other Bank</option>
                    </select>
                </div>
            </div>

            <div class="results-panel">
                <h2 class="animate-on-scroll">Your Revenue Liberation</h2>

                <div class="transformation-grid animate-on-scroll">
                    <div class="status-card before">
                        <h3>
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
                            The Trap: Revenue Locked
                        </h3>
                        <div class="revenue-amount trapped-amount">£0</div>
                        <p>Your success is held hostage by standard settlement times, causing Monday morning anxiety.</p>
                    </div>
                    <div class="status-card after">
                        <h3>
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                            The Liberation: Instant Velocity
                        </h3>
                        <div class="revenue-amount liberated-amount" id="liberated-amount">£0</div>
                        <p>Revenue is in your account the next morning, turning weekend wins into immediate working capital.</p>
                    </div>
                </div>
                
                <div class="cashflow-chart-container animate-on-scroll">
                    <h3>Monday Morning Cash Position</h3>
                    <div class="chart-bar-group">
                        <div class="chart-bar">
                            <div class="bar trapped" id="trapped-bar" style="height: 1%;"></div>
                            <span class="bar-label">Current</span>
                        </div>
                        <div class="chart-bar">
                            <div class="bar liberated" id="liberated-bar" style="height: 1%;"></div>
                            <span class="bar-label">With Next-Day Payouts</span>
                        </div>
                    </div>
                </div>

                <div class="impact-section animate-on-scroll">
                    <h3>Additional Monthly Working Capital</h3>
                    <div class="impact-number" id="monthly-liberation">£0</div>
                    <p>This is the extra cash flow you gain access to every month, just by getting paid faster.</p>
                </div>

                <div class="cta-section animate-on-scroll">
                    <h3>Ready to Realize This Potential?</h3>
                    <p>Get your detailed revenue liberation analysis sent directly to your inbox.</p>
                    <form id="cta-form" class="cta-form" action="https://formspree.io/f/xblpyjlw" method="POST" style="display: flex; gap: 1rem; max-width: 600px; margin: 2rem auto; flex-wrap: wrap; justify-content: center;">
                        <input type="hidden" name="calculator" value="Revenue Liberation Engine">
                        <input type="hidden" name="calendly" value="https://calendly.com/crude-capital-info/30min">
                        <input type="hidden" id="calculation-results" name="results" value="">
                        <input type="email" id="prospect-email" name="email" placeholder="Enter your business email" required style="flex: 1 1 300px; padding: 1rem; border: 1px solid #ccc; border-radius: 12px; font-size: 1rem; min-width: 250px;">
                        <button type="submit" id="cta-button" class="cta-button" disabled style="flex: 0 0 auto; white-space: nowrap;">
                            Get Your Detailed Report
                            <span class="arrow">→</span>
                        </button>
                    </form>
                </div>
            </div>
        </main>
        <footer class="site-footer">
            © 2025 Crude Capital Payments Intelligence. All Rights Reserved.
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const revenueSlider = document.getElementById('weekend-revenue-slider');
            const sliderValueDisplay = document.getElementById('slider-value-display');
            const businessTypeEl = document.getElementById('business-type');
            const providerEl = document.getElementById('current-provider');

            function animateValue(obj, start, end, duration) {
                let startTimestamp = null;
                const step = (timestamp) => {
                    if (!startTimestamp) startTimestamp = timestamp;
                    const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                    const currentVal = Math.floor(progress * (end - start) + start);
                    obj.innerHTML = `£${currentVal.toLocaleString('en-GB')}`;
                    if (progress < 1) {
                        window.requestAnimationFrame(step);
                    } else {
                         obj.innerHTML = `£${end.toLocaleString('en-GB')}`;
                    }
                };
                window.requestAnimationFrame(step);
            }

            function updateCtaLink() {
                const weekendRevenue = parseFloat(revenueSlider.value);
                const businessType = businessTypeEl.value || "Not specified";
                const currentProvider = providerEl.value || "Not specified";
                const monthlyImpact = Math.round(weekendRevenue * 4.33);

                const body = `
Revenue Liberation Engine Results:

Industry: ${businessType}
Current Provider: ${currentProvider}
Weekend Revenue: £${weekendRevenue.toLocaleString('en-GB')}
Potential Monthly Working Capital Gain: £${monthlyImpact.toLocaleString('en-GB')}

I'm interested in learning more about how Crude Capital Merchants can help me realize this potential.
                `.trim();

                // Populate hidden results field
                const resultsInput = document.getElementById('calculation-results');
                if (resultsInput) {
                    resultsInput.value = body;
                }

                // Enable submit button if email is valid
                const ctaButton = document.getElementById('cta-button');
                const emailInput = document.getElementById('prospect-email');
                if (ctaButton && emailInput && emailInput.value && emailInput.checkValidity()) {
                    ctaButton.disabled = false;
                }
            }

            function calculateLiberation() {
                const weekendRevenue = parseFloat(revenueSlider.value) || 0;
                const liberatedAmountEl = document.getElementById('liberated-amount');
                const monthlyLiberationEl = document.getElementById('monthly-liberation');
                const liberatedBar = document.getElementById('liberated-bar');
                const trappedBar = document.getElementById('trapped-bar');

                const currentLiberated = parseFloat(liberatedAmountEl.textContent.replace(/[£,]/g, '')) || 0;
                const currentMonthly = parseFloat(monthlyLiberationEl.textContent.replace(/[£,]/g, '')) || 0;
                const monthlyLiberation = weekendRevenue * 4.33;

                animateValue(liberatedAmountEl, currentLiberated, weekendRevenue, 800);
                animateValue(monthlyLiberationEl, currentMonthly, monthlyLiberation, 1200);

                // --- CORRECTED PROPORTIONAL CHART LOGIC ---
                const maxChartValue = parseFloat(revenueSlider.max) * 1.1; // Scale relative to slider's max
                const liberatedHeight = (weekendRevenue / maxChartValue) * 100;
                
                trappedBar.style.height = '1%'; // Minimal height for "trapped" bar
                liberatedBar.style.height = `${Math.max(1, liberatedHeight)}%`; // Proportional height

                updateCtaLink();
            }

            function updateSliderDisplay() {
                const value = parseFloat(revenueSlider.value);
                sliderValueDisplay.textContent = `£${value.toLocaleString('en-GB')}`;
            }
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            
            document.querySelectorAll('.animate-on-scroll').forEach(el => observer.observe(el));

            revenueSlider.addEventListener('input', () => {
                updateSliderDisplay();
                calculateLiberation();
            });
            businessTypeEl.addEventListener('change', calculateLiberation);
            providerEl.addEventListener('change', calculateLiberation);

            // Form submission handler
            const ctaForm = document.getElementById('cta-form');
            const emailInput = document.getElementById('prospect-email');

            emailInput.addEventListener('input', () => {
                const ctaButton = document.getElementById('cta-button');
                ctaButton.disabled = !emailInput.checkValidity();
            });

            ctaForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                try {
                    const response = await fetch(ctaForm.action, {
                        method: 'POST',
                        body: new FormData(ctaForm),
                        headers: { 'Accept': 'application/json' }
                    });
                    if (response.ok) {
                        alert('Report sent! Check your email for your detailed analysis and booking link.');
                        ctaForm.reset();
                        const ctaButton = document.getElementById('cta-button');
                        ctaButton.disabled = true;
                    } else {
                        alert('Error sending report. Please try again.');
                    }
                } catch (error) {
                    alert('Error sending report. Please try again.');
                }
            });

            // Initial calculation on page load
            updateSliderDisplay();
            calculateLiberation();
        });
    </script>
</body>
</html>